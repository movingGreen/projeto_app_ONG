<ConsultarDoacao>:
    name: "consultar_doacao"
    doacao_list: doacao_list
    button_buscar: button_buscar

    MDBoxLayout:
        orientation: 'vertical'

        MDLabel:
            text: "Consultar Doação"
            halign: "center"
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            font_size:  40

        BoxLayout:
            orientation: 'horizontal'

            MDTextField:
                id: iddoacao
                hint_text: "Pesquisar doação"
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                size_hint_x: 0.75
                max_text_length: 25

            MDFillRoundFlatButton:
                id: button_buscar
                text: "Buscar"
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                on_release: root.pesquisar(iddoacao.text)


            MDFillRoundFlatButton:
                text: "Cancelar"
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                on_release:
                    iddoacao.text = ''
                    doacao_list.clear_widgets()
                    root.manager.transition.direction = 'right'
                    root.manager.current = "principal"

        MDFillRoundFlatIconButton:
            icon: "account-plus-outline"
            theme_icon_color: "Custom"
            text: "Cadastrar"
            size_hint_x: 0.20
            theme_text_color: "Custom"
            md_bg_color: 0, 0, 0, 1
            line_color: "white"
            font_size: 15
            icon_size: 20
            on_release: root.cadastrar()

        MDScrollView:
            MDList:
                id: doacao_list

<DoacaoListItem>:
    id: doacao
    text: root.texto

    IconLeftWidget:
        icon: 'cog'
        on_release: root.editar()

    MDIconButton:
        icon: "minus"
        pos_hint: {"center_x": .95, "center_y": .5}
        on_release: root.deletar()
