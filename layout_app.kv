GerenciadorTelas:

    TelaPrincipal:
        name: "principal"
    ConsultarPessoa:
        name: "lista_pessoa"
    TelaPessoa:
        name: "pessoa"

    LoginTela:
        name: "login"

<LoginTela>:
    name: "login"
    usuario: usuario
    senha: senha

    MDFloatLayout:

        Image:
            source: "images/logo.png"
            pos_hint: {'center_x':0.5,'center_y':0.88}
            size_hint_y: 0.25

        MDLabel:
            text: "Gerenciar Inventário"
            halign: "center"
            pos_hint: {'center_x': 0.5, 'center_y': 0.75}
            font_size:  35

        MDTextField:
            id: usuario
            hint_text:"Login"
            pos_hint: {'center_x':0.5,'center_y':0.6}
            size_hint_x: 0.75
            max_text_length: 25

        MDTextField:
            id: senha
            hint_text:"Senha"
            pos_hint: {'center_x':0.5,'center_y':0.45}
            size_hint_x: 0.75
            max_text_length: 25
            password: True

        MDFillRoundFlatIconButton:
            icon: "check"
            theme_icon_color: "Primary"
            text: "Entrar"
            pos_hint: {'center_x':0.5,'center_y':0.2}
            size_hint_x: 0.40
            theme_text_color: "Primary"
            md_bg_color: 0.7, 0.7, 0.7, 1
            line_color: "black"
            font_size: 25
            icon_size: 40
            on_release: root.validarLogin()

        MDTextButton:
            text: "Esqueci minha senha"
            pos_hint: {'center_x':0.5,'center_y':0.1}
            font_size: 25


<TelaPrincipal>:
    name: 'principal'

    MDFloatLayout:

        Image:
            source: "images/logo.png"
            pos_hint: {'center_x':0.5,'center_y':0.88}
            size_hint_y: 0.25


        MDFillRoundFlatIconButton:
            icon: "account-multiple"
            theme_icon_color: "Custom"
            icon_size: 35
            text: "Pessoas"
            pos_hint: {'center_x':0.5,'center_y':0.7}
            size_hint_x: 0.40
            text_color: 1,1,1,1
            md_bg_color: 0.18,0.53,1,1
            font_size: 30
            on_release:
                root.manager.transition.direction = 'left'
                root.manager.current = "lista_pessoa"

        MDFillRoundFlatIconButton:
            icon: "arrow-left-circle-outline"
            theme_icon_color: "Custom"
            text: "Sair"
            pos_hint: {'center_x':0.5,'center_y':0.1}
            size_hint_x: 0.20
            theme_text_color: "Custom"
            md_bg_color: 0, 0, 0, 1
            line_color: "white"
            font_size: 25
            icon_size: 30
            on_release:
                root.manager.transition.direction = 'right'
                root.manager.current = "login"

<TelaPessoa>:
    name: 'pessoa'

    MDFloatLayout:

        MDLabel:
            text: "Cadastrar\nPessoa"
            halign: "center"
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            font_size:  40

        MDTextField:
            id: pessoaNome
            hint_text:"Nome"
            pos_hint: {'center_x':0.5,'center_y':0.7}
            size_hint_x: 0.75
            max_text_length: 25

        MDTextField:
            id: pessoaEndereco
            hint_text:"Endereço"
            pos_hint: {'center_x':0.5,'center_y':0.6}
            size_hint_x: 0.75
            max_text_length: 25

        MDTextField:
            id: pessoaTelefone
            hint_text:"Telefone"
            pos_hint: {'center_x':0.5,'center_y':0.5}
            size_hint_x: 0.75
            max_text_length: 25

        MDTextField:
            id: pessoaEmail
            hint_text:"Email"
            pos_hint: {'center_x':0.5,'center_y':0.4}
            size_hint_x: 0.75
            max_text_length: 25

        MDFillRoundFlatIconButton:
            icon: "arrow-left-circle-outline"
            theme_icon_color: "Custom"
            text: "Voltar"
            pos_hint: {'center_x':0.2,'center_y':0.1}
            size_hint_x: 0.20
            theme_text_color: "Custom"
            md_bg_color: 0, 0, 0, 1
            line_color: "white"
            font_size: 25
            icon_size: 30
            on_release:
                root.manager.transition.direction = 'right'
                root.manager.current = "lista_pessoa"

        MDFillRoundFlatIconButton:
            icon: "content-save-outline"
            theme_icon_color: "Custom"
            text: "Salvar"
            pos_hint: {'center_x':0.5,'center_y':0.1}
            size_hint_x: 0.20
            theme_text_color: "Custom"
            md_bg_color: 0, 0, 0, 1
            line_color: "white"
            font_size: 25
            icon_size: 30
            on_release:
                root.salvar_dados(pessoaNome, pessoaEndereco, pessoaTelefone, pessoaEmail)



<ConsultarPessoa>:
    name: "lista_pessoa"
    pessoa_list: pessoa_list

    MDBoxLayout:
        orientation: 'vertical'

        MDLabel:
            text: "Consultar Pessoas"
            halign: "center"
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            font_size:  40

        BoxLayout:
            orientation: 'horizontal'

            MDTextField:
                id: idpessoa
                hint_text: "Pesquisar nome"
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                size_hint_x: 0.75
                max_text_length: 25

            MDFillRoundFlatButton:
                text: "Buscar"
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                on_release: root.pesquisar(idpessoa.text)


            MDFillRoundFlatButton:
                text: "Cancelar"
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                on_release:
                    idpessoa.text = ''
                    root.manager.transition.direction = 'right'
                    root.manager.current = "principal"

        MDFillRoundFlatIconButton:
            icon: "account-plus-outline"
            theme_icon_color: "Custom"
            text: "Cadastrar"
#            pos_hint: {'center_x':0.8,'center_y':0.1}
            size_hint_x: 0.20
            theme_text_color: "Custom"
            md_bg_color: 0, 0, 0, 1
            line_color: "white"
            font_size: 20
            icon_size: 23
            on_release:
                root.manager.transition.direction = 'left'
                root.manager.current = "pessoa"

        ScrollView:
            MDList:
                id: pessoa_list

<PessoaListItem>:
    text: root.texto

    IconLeftWidget:
        icon: 'cog'
#
#    IconRightWidget:
#        icon: 'minus'